# LangChain.js Core æ·±åº¦å­¦ä¹ é¡¹ç›®

## ğŸ¯ é¡¹ç›®ç›®æ ‡

åŸºäº LangChain.js å®˜æ–¹æ¶æ„ï¼Œä»é›¶å¼€å§‹å®ç°å’Œç†è§£ `@langchain/core` çš„æ ¸å¿ƒæ¦‚å¿µã€‚

## ğŸ“ é¡¹ç›®ç»“æ„

```
src/
â”œâ”€â”€ core/
â”‚   â”œâ”€â”€ runnable.ts         # Runnable æ¥å£å’ŒåŸºç±» â­â­â­â­â­
â”‚   â”œâ”€â”€ config.ts           # RunnableConfig é…ç½®ç³»ç»Ÿ
â”‚   â””â”€â”€ errors.ts           # é”™è¯¯å¤„ç†
â”œâ”€â”€ lambda/
â”‚   â””â”€â”€ runnable-lambda.ts  # RunnableLambda å®ç°
â””â”€â”€ examples/
    â””â”€â”€ basic-usage.ts      # ç¬¬ä¸€å¤©å­¦ä¹ ç¤ºä¾‹ ğŸš€
```

## ğŸš€ å¿«é€Ÿå¼€å§‹

### 1. å®‰è£…ä¾èµ–

```bash
cd study/langchain/phase1-core/implementation
npm install
```

### 2. è¿è¡Œç¬¬ä¸€å¤©çš„å­¦ä¹ ç¤ºä¾‹

```bash
npm run dev
```

ä½ å°†çœ‹åˆ° 7 ä¸ªå®è·µç¤ºä¾‹ï¼Œæ¶µç›–ï¼š
- âœ… åŸºç¡€ RunnableLambda ä½¿ç”¨
- âœ… é“¾å¼ç»„åˆï¼ˆpipeï¼‰
- âœ… æ‰¹é‡å¤„ç†
- âœ… æµå¼å¤„ç†
- âœ… æ•°å­—å¤„ç†é“¾
- âœ… é…ç½®ç³»ç»Ÿ
- âœ… TypeScript ç±»å‹å®‰å…¨

### 3. ç¼–è¯‘é¡¹ç›®

```bash
npm run build
```

## ğŸ“š å­¦ä¹ è·¯å¾„

### Day 1-2ï¼šRunnable æ ¸å¿ƒç³»ç»Ÿ â­â­â­â­â­

**ä»Šæ—¥é‡ç‚¹**ï¼š
- ç†è§£ Runnable æ¥å£çš„è®¾è®¡å“²å­¦
- æŒæ¡ `invoke`ã€`batch`ã€`stream` ä¸‰ä¸ªæ ¸å¿ƒæ–¹æ³•
- å­¦ä¼šä½¿ç”¨ `pipe` æ–¹æ³•è¿›è¡Œé“¾å¼ç»„åˆ
- äº†è§£ RunnableConfig é…ç½®ç³»ç»Ÿ

**å®è·µä»»åŠ¡**ï¼š
1. è¿è¡Œ `basic-usage.ts` ç¤ºä¾‹
2. å°è¯•ä¿®æ”¹ç¤ºä¾‹ä»£ç 
3. åˆ›å»ºè‡ªå·±çš„ RunnableLambda å®ç°

### Day 3-4ï¼šLCEL (å³å°†åˆ°æ¥)

- å­¦ä¹  LangChain Expression Language
- ç†è§£ `|` æ“ä½œç¬¦çš„å®ç°
- æŒæ¡å¹¶è¡Œç»„åˆå’Œæ¡ä»¶åˆ†æ”¯

### Day 5-7ï¼šå›è°ƒç³»ç»Ÿ (å³å°†åˆ°æ¥)

- LangSmith é›†æˆ
- è°ƒè¯•å’Œç›‘æ§
- é”™è¯¯å¤„ç†ç­–ç•¥

## ğŸ” æ ¸å¿ƒæ¦‚å¿µè¯¦è§£

### Runnable æ¥å£

æ‰€æœ‰ LangChain.js ç»„ä»¶çš„åŸºç¡€æ¥å£ï¼š

```typescript
interface Runnable<Input, Output> {
  invoke(input: Input, config?: RunnableConfig): Promise<Output>;
  batch(inputs: Input[], config?: RunnableConfig): Promise<Output[]>;
  stream(input: Input, config?: RunnableConfig): AsyncIterable<Output>;
  pipe<NewOutput>(next: Runnable<Output, NewOutput>): Runnable<Input, NewOutput>;
}
```

### ä¸ºä»€ä¹ˆéœ€è¦ç»Ÿä¸€æ¥å£ï¼Ÿ

1. **ç»„åˆèƒ½åŠ›**ï¼šæ‰€æœ‰ç»„ä»¶éƒ½å¯ä»¥ç”¨ `pipe` æ–¹æ³•ç»„åˆ
2. **ç±»å‹å®‰å…¨**ï¼šTypeScript ç¡®ä¿ç»„åˆæ—¶ç±»å‹åŒ¹é…
3. **æ‰¹é‡å¤„ç†**ï¼šç»Ÿä¸€çš„æ‰¹é‡å¤„ç†æ¥å£
4. **æµå¼å¤„ç†**ï¼šæ”¯æŒå®æ—¶å“åº”
5. **é…ç½®ä¼ é€’**ï¼šé…ç½®å¯ä»¥åœ¨æ•´ä¸ªé“¾ä¸­ä¼ é€’

### RunnableLambda çš„é‡è¦æ€§

RunnableLambda æ˜¯æœ€åŸºç¡€çš„ Runnable å®ç°ï¼Œå®ƒï¼š
- å°†æ™®é€šå‡½æ•°åŒ…è£…æˆ Runnable
- æä¾›äº†å­¦ä¹ å…¶ä»– Runnable çš„åŸºç¡€
- å±•ç¤ºäº† Runnable çš„åŸºæœ¬å®ç°æ¨¡å¼

## ğŸ¯ å®è·µå»ºè®®

1. **å…ˆè¿è¡Œç¤ºä¾‹**ï¼šç†è§£åŸºæœ¬æ¦‚å¿µ
2. **ä¿®æ”¹ä»£ç **ï¼šå°è¯•ä¸åŒçš„ç»„åˆ
3. **åˆ›å»ºæ–°çš„ RunnableLambda**ï¼šåŠ æ·±ç†è§£
4. **é˜…è¯»æºç **ï¼šç†è§£å®ç°ç»†èŠ‚
5. **å¯¹æ¯”å®˜æ–¹**ï¼šå­¦ä¹ å®˜æ–¹çš„å®ç°å·®å¼‚

## ğŸ”§ å¼€å‘å·¥å…·

- **TypeScript**ï¼šæä¾›ç±»å‹å®‰å…¨
- **ts-node**ï¼šç›´æ¥è¿è¡Œ TypeScript
- **Jest**ï¼šå•å…ƒæµ‹è¯•ï¼ˆå³å°†æ·»åŠ ï¼‰

## ğŸ“– ç›¸å…³èµ„æº

- [LangChain.js å®˜æ–¹æ–‡æ¡£](https://js.langchain.com/)
- [Runnable æ¦‚å¿µæ–‡æ¡£](https://js.langchain.com/docs/expression_language/interface)
- [TypeScript æ‰‹å†Œ](https://www.typescriptlang.org/docs/)

## â“ å¸¸è§é—®é¢˜

### Q: ä¸ºä»€ä¹ˆæ‰€æœ‰æ–¹æ³•éƒ½æ˜¯å¼‚æ­¥çš„ï¼Ÿ
A: AI æ“ä½œé€šå¸¸æ¶‰åŠç½‘ç»œè¯·æ±‚ï¼Œå¼‚æ­¥è®¾è®¡ç¡®ä¿äº†ä¸€è‡´æ€§å’Œæ€§èƒ½ã€‚

### Q: ä¸ºä»€ä¹ˆéœ€è¦æ³›å‹ï¼Ÿ
A: æ³›å‹ç¡®ä¿ç±»å‹å®‰å…¨ï¼Œè®© TypeScript èƒ½å¤Ÿæ¨æ–­å‡ºæ­£ç¡®çš„è¾“å…¥è¾“å‡ºç±»å‹ã€‚

### Q: pipe å’Œ LCEL çš„ | æ“ä½œç¬¦æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ
A: pipe æ˜¯æ–¹æ³•è°ƒç”¨ï¼Œ| æ˜¯ LCEL çš„è¯­æ³•ç³–ï¼ŒåŠŸèƒ½ç±»ä¼¼ä½† | æ›´ç®€æ´ã€‚

---

**å‡†å¤‡å¥½å¼€å§‹ä½ çš„ LangChain.js å­¦ä¹ ä¹‹æ—…äº†å—ï¼Ÿè¿è¡Œ `npm run dev` å¼€å§‹ç¬¬ä¸€å¤©çš„å®è·µï¼** ğŸš€ 